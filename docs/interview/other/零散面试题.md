---
title: 零散知识点
date: 2021-01-04
---

## 第2行中默认类型等价语句时什么？
```java {2}
public interface IService {
    String NAME = "default";
}
```
等价于：
```java
public static final String NAME = "default";
```

## java的字符类型采用的是 ```Unicode``` 编码方案，每个 ```Unicode``` 码占用几个比特位？

**答**：在 ```java``` 中一个 ```Unicode``` 码占 2 个字节```(byte)``` ，一个字节等于 8 个比特```(bit)```，所以每个 ```Unicode``` 码占用 16 个比特位。

**注意：**区分**编码**和**编码格式**

**编码就是一个编号(数字)到字符的一种映射关系，就仅仅是一种一对一的映射而已，可以理解成一个很大的对应表格**

**编码格式 是用来序列化或存储编码中提到的那个“编号(数字)”的一种“格式”**，包括gbk和utf-8

gbk： 是指中国的中文字符，其它它包含了简体中文与繁体中文字符

UTF-8： 它是一种全国家通过的一种编码

## ```Object.getClass().getName()```方法？

**解释：**```Object.getClass()```返回的是当前运行时的类，在调用```getName()```方法返回值为：包名 + 类名，而不是包名 + 类名 + .class

## 以下程序片段，下列哪个选项不能插入到第一行？
```java {1}

public class A {
    //do something
}
```
A. ```public class MainClass{}```

B. ```package mine;```

C. ```class AnotherClass{}```

D. ```import java.util.*;```

**解答：** **Java 源程序只能有一个 public 类 存在，且类名和文件名相同**，Java 程序是从 main 方法开始执行的，public 为类加载器提供入口，然后找到public类中的main方法开始执行。如果存在多个 public 类，程序将不知道该从哪里执行。
**注意**：内部类可以是 public 的，因为内部类是作为外部类的成员存在的。 所以选择 A

## 一个类的构造器能不能调用这个类中的其他构造方法？

答：能！例如：
```java {8}
public class Demo {
    private int x;
    private String string;
    public Demo(int x) {
        this.x = x;
    }
    public Demo(int x, String string) {
        this(x);
        this.string = string;
    }
}
```
## 数据库事务四大特性
1. 原子性：指职务包含的所有操作要么全部成功，要么全部失败回滚，事务就是用户定义的一个数据库操作序列，这些操作要么全做，要么全部不做，是一个不可分割的工作单位。

2. 一致性：指事务必须使数据库从一个一致性状态变换到另一个一致性状态，也就是说一个事务执行前和执行后都必须处于一致性状态。
    + 例如：
    假入银行有A、B两个用户，账户余额都是100元。现在A用户向B用户转账50元。过程如下：事务开始 1.A用户账户减去50元，2.B用户账户加上50元，3.记录一条转账日志，事务结束。在事务的第1步之后的这个中间状态，A用户账户余额为50元，B用户账户余额还没有增加，还是100元，这就是一个事务中间的非一致状态。但是我们知道，事务要么成功，要么失败，不存在部分成功，所以，用户看到的数据，永远是一致的。

3. 隔离性：当多个用户并发访问数据库时，比如操作同一张表时，数据库为每一个用户开启事务，不能被其他事务的操作所干扰，多个并发事务之间要相互隔离。
4. 持续性：是指一个事务一旦被提交了，那么对数据库中的数据的改变就是永久性的，即使在数据库系统遇到故障的情况下也不会丢失提交事务的操作。

## 栈和堆

### 首先说明栈内存和堆内存里存放的是什么
栈内存中存放函数中定义的一些基本类型的变量和对象的引用变量； 

堆内存中存放new创建的对象和数组。 

简单的来说，**堆主要是用来存放对象的，栈主要是用来执行程序的** 
这么做是因为 

栈的存取速度快，栈数据可以共享，但是栈中的数据大小和生存期必须确定，缺乏灵活性中存放一些基本类型的对象和对象句柄 

堆是操作系统分配给自己内存，由于从操作系统管理的内存分配，所以再分配和销毁时都需要占用时间，因此用堆的效率非常低，但是优点在于编译器不需要指导从堆里分配多少存储控件，也不需要知道存储的数据要再堆里停留多长事件，因此用堆保存数据时会得到更大的灵活性

## java 中创建对象的方法
Java有5种方式来创建对象： 
1. 使用 ```new``` 关键字（最常用）： ```ObjectName obj = new ObjectName();``` 
2. 使用反射的```Class```类的```newInstance()```方法： 
```java
ObjectName obj = ObjectName.class.newInstance();
```
3. 使用反射的```Constructor```类的```newInstance()```方法： 
```java
ObjectName obj = ObjectName.class.getConstructor.newInstance();
```
4. 使用对象克隆```clone()```方法：
```java
ObjectName obj = obj.clone();
```
5. 使用反序列化```(ObjectInputStream)```的```readObject()```方法：
```java {3}
try {
    ObjectInputStream ois = new ObjectInputStream(new FileInputStream(FILE_NAME)) 
    ObjectName obj = ois.readObject();
}
```

## 多态

根据接口获取不同的实现类时，根据不同的业务场景获取不同的实现类，如何解决？

新建一个 Factory 工厂类，在这个工厂类中的方法都是返回该接口的实现类对象。根据不同的方法，生产出不同的实现类

## 基于数组队列扩容

1. 创建一个两倍大小的新数组 new[max*2];
2. 再根据当前队列元素数量从old[front] 元素遍历，并赋值至 new[i];此时 front 自增
3. 再将 front 置为 0，rear 置为 旧数组的长度 