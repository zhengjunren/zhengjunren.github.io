(window.webpackJsonp=window.webpackJsonp||[]).push([[145],{339:function(t,e,r){"use strict";r.r(e);var s=r(5),n=Object(s.a)({},(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"mysql-索引失效情况"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#mysql-索引失效情况"}},[t._v("#")]),t._v(" mysql 索引失效情况")]),t._v(" "),r("p",[t._v("先用 expain 查看有没有用索引")]),t._v(" "),r("p",[t._v("or语句前后没有同时使用索引。当or左右查询字段只有一个是索引，该索引失效，只有当or左右查询字段均为索引时，才会生效")]),t._v(" "),r("p",[t._v("like 以%开头，索引无效；当like前缀没有%，后缀有%时，索引有效。")]),t._v(" "),r("p",[t._v("组合索引，不是使用第一列索引，索引失效。")]),t._v(" "),r("p",[t._v("数据类型出现隐式转化。如varchar不加单引号的话可能会自动转换为int型，使索引无效，产生全表扫描。")]),t._v(" "),r("p",[t._v("在索引列上使用 IS NULL 或 IS NOT NULL操作。索引是不索引空值的，所以这样的操作不能使用索引，可以用其他的办法处理，例如：数字类型，判断大于0，字符串类型设置一个默认值，判断是否等于默认值即可。")]),t._v(" "),r("p",[t._v("在索引字段上使用not，<>，!=。不等于操作符是永远不会用到索引的，因此对它的处理只会产生全表扫描。 优化方法： key<>0 改为 key>0 or key<0")])])}),[],!1,null,null,null);e.default=n.exports}}]);