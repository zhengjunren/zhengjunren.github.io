(window.webpackJsonp=window.webpackJsonp||[]).push([[118],{555:function(t,s,a){"use strict";a.r(s);var e=a(29),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"ubuntu搭建postfix邮箱服务器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ubuntu搭建postfix邮箱服务器"}},[t._v("#")]),t._v(" Ubuntu搭建Postfix邮箱服务器")]),t._v(" "),a("h2",{attrs:{id:"安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[t._v("#")]),t._v(" 安装")]),t._v(" "),a("p",[t._v("在ubuntu服务器上运行下面的命令：")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" update\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" postfix -y\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("p",[t._v("安装过程中会让你选择一种Postfix配置类型。一般情况下，我们需要选择第二种类型：Internet Site，如图")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191021165255964.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxNDk1MzQw,size_16,color_FFFFFF,t_70",alt:"在这里插入图片描述"}})]),t._v(" "),a("p",[t._v("说明：")]),t._v(" "),a("p",[t._v("No configuration 表示不要做任何配置；")]),t._v(" "),a("p",[t._v("Internet Site 表示直接使用本地SMTP服务器发送和接收邮件；")]),t._v(" "),a("p",[t._v("Internet with smarthost 表示使用本地SMTP服务器接收邮件，但发送邮件时不直接使用本地SMTP服务器，而是使用第三方smart host来转发邮件；")]),t._v(" "),a("p",[t._v("Satellite system 表示邮件的发送和接收都是由第三方smarthost来完成。")]),t._v(" "),a("p",[t._v("Local only 表示邮件只能在本机用户之间发送和接收。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/2019102116543736.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxNDk1MzQw,size_16,color_FFFFFF,t_70",alt:"在这里插入图片描述"}}),t._v("在上图中"),a("code",[t._v("System mail name")]),t._v("中填入你的域名，也就是邮箱地址@符号后面的域名，比如，我可以填"),a("code",[t._v("Ubuntu")]),t._v("。当发件人的域名地址没有指定时，Postfix会自动将这个域名添加到发件人的地址中。")]),t._v(" "),a("h2",{attrs:{id:"发送测试邮件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#发送测试邮件"}},[t._v("#")]),t._v(" 发送测试邮件")]),t._v(" "),a("p",[t._v("实际上，现在我们就能用命令行发送和接收邮件了。如果你的服务器有一个用户名是"),a("code",[t._v("user1")]),t._v("，那么这个用户的邮箱地址就是"),a("code",[t._v("user1@Ubuntu.com")]),t._v("。你可以发送一封邮件给"),a("code",[t._v("root")]),t._v("用户: "),a("code",[t._v("root@Ubuntu")]),t._v("。也可以向Gmail，Yahoo，QQ，网易等邮箱用户发送邮件。不过现在我们只能在服务器上用命令行发送和查看邮件。")]),t._v(" "),a("p",[t._v("Postfix在安装时，会同时安装一个sendmail的程序（"),a("code",[t._v("/usr/sbin/sendmail")]),t._v("）。你可以用这个"),a("code",[t._v("sendmail")]),t._v("二进制程序向你的"),a("code",[t._v("Gmail")]),t._v("邮箱发送一封测试邮件。在服务器上输入下面的命令：")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test email"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sendmail")]),t._v(" your-account@gmail.com\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("这是一条很简单的命令， "),a("code",[t._v("sendmail")]),t._v("从标准输入读取到"),a("code",[t._v("test email")]),t._v("，将"),a("code",[t._v("test email")]),t._v("作为邮件正文，然后发送到"),a("code",[t._v("Gmail")]),t._v("邮箱。现在你可以查看你的Gmail邮箱，应该会看见你的测试邮件。尽管我们没有指明发件人地址，但"),a("code",[t._v("Postfix")]),t._v("会自动将你的域名添加到发送人地址中。你也可以在"),a("code",[t._v("Gmail")]),t._v("中回复这封测试邮件，然后在邮箱服务器上查看是否可以收到"),a("code",[t._v("Gmail")]),t._v("发来的邮件。")]),t._v(" "),a("p",[t._v("每个用户的邮件保存在"),a("code",[t._v("/var/spool/mail<username>")]),t._v("和"),a("code",[t._v("/var/mail/<username>")]),t._v("文件中。如果你不知道收件箱保存在哪里，运行这条命令：")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("postconf mail_spool_directory\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("Postfix的收发日志保存在"),a("code",[t._v("/var/log/mail.log")]),t._v("文件中。Postfix本身的运行错误日志保存在"),a("code",[t._v("/var/log/mail.err")]),t._v("文件中。")]),t._v(" "),a("p",[a("strong",[t._v("我的测试")]),t._v(" "),a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191021170253173.png",alt:"在这里插入图片描述"}}),t._v(" "),a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191021170539541.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxNDk1MzQw,size_16,color_FFFFFF,t_70",alt:"在这里插入图片描述"}})]),t._v(" "),a("p",[t._v("参考链接:")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://blog.csdn.net/oolocal/article/details/52861583",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://blog.csdn.net/oolocal/article/details/52861583"),a("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=n.exports}}]);