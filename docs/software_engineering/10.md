#  软件测试

## 基本概念

### 什么是软件测试

软件是是为了发现错误而执行程序的过程。或者说，软件测试室根据软件开发各阶段的规格说明和程序内部结构而精心设计一批测试用例（即输入数据及其预期的输出结果），并利用这些测试用例去运行程序，以发现程序错误的过程。

### 目的和原则

基于不同的立场，存在着两种完全不同的测试目的。从用户的角度出发，一般希望通过软件测试检验软件中隐藏的错误和缺陷，以考虑是否可以接受该产品。而从软件开发者的角度出发，则希望测试称为表名软件产品中不存在错误的过程。验证该软件已正确地实现了用户的要求，确立人们对软件质量的信心。

1. 测试是程序的执行过程，目的在于发现错误；
2. 一个好的测试用例在于能发现至今未发现的错误；
3. 一个成功的测试是发现了至今未发现的错误的测试。

根据这样的测试目的，软件测试的原则应该是：

1. 应当把“尽早地和不断地进行软件测试”作为软件开发者的座右铭。
2. 测试用例应有测试输入数据和与之对应的预期输出结果这两部分组成
3. 程序员应避免检查自己的程序
4. 在设计测试用例时，应当包括合理的输入条件和不合理的输入条件
5. 充分注意测试中的集群现象
6. 严格执行测试计划，排除测试的随意性
7. 应当对每一个测试结果作全面检查
8. 妥善保存测试计划、测试用例、出错统计和最终分析报告，为未来试试的维护提供方便。

### 软件测试的对象

软件测试应该贯穿于软件定义与开发的整个期间，需求分析、概要设计、详细设计、程序编码等各阶段所得到的文档资料，包括需求规格说明、概要设计规格说明、详细设计规格说明以及源程序，都应该称为软件测试的对象。

确认，是一系列的活动和过程，其目的是想正式在一个给定的外部环境中软件的逻辑正确性。它包括需求规格说明的确认和程序的确认，而程序的确认又分为静态确认和动态确认。

验证，则视图证明在软件生存期各个阶段，以及阶段间的逻辑协调性，完备性和正确性。

### 测试与软件开发各阶段的关系

软件开发过程是一个自顶向下、逐步细化的过程，而测试过程则是依相反顺序安排的自底向上、逐步集成的过程。低一级测试为上一级测试准备条件。当然不排除两者平行地进行测试。

首先对每一个程序模块进行单元测试，消除程序模块内部在逻辑上和功能上的错误和缺陷。再对照软件设计进行集成测试，检查和排除子系统结构上的错误。随后再对照需求，进行确认测试。最后从系统全体出发，运行系统，看是否满足要求。

![image-20210308104051224](/soft_engineering/image-20210308104051224.png)

### 白盒测试 & 黑盒测试

任何工程产品都可以使用以下两种方法之一进行测试：

1. 已知产品的功能设计规格，可以通过测试证明每个实现了的功能是否符合要求
2. 已知产品的内部功能做过程，可以通过测试证明每种内部操作是否符合设计规格要求，所有内部成分是否已经过检查

前者是黑盒测试，后者是白盒测试。

软件的黑盒测试一位这测试要根据软件的外部特性进行。也就是说这种方法是把测试对象看做黑盒子，检测人员完全不考虑程序内部的逻辑结构和内部特性，只依据程序的需求规格说明书，检查程序的功能是都符合它的功能说明。

软件的白盒测试是对软件的过程性细节作出细致的检查。这一方法是把测试对象看做一个打开的盒子或透明的盒子，它允许测试人员利用程序内部的逻辑结构以及有关信息，设计或选择测试用例，对程序所有的逻辑路径进行测试。通过在不同点检查程序的状态，确定实际的状态是否和预期的状态一致。因此白盒测试又称为结构测试或逻辑驱动测试。

## 白盒测试的测试用例设计

### 逻辑覆盖

逻辑覆盖可分为：语句覆盖、判定覆盖、条件覆盖、判断-条件覆盖、条件组合覆盖及路径覆盖。

### 语句覆盖

语句覆盖就是设计若干个测试用例，运行被测程序，使得每一个可执行语句至少被执行一次

### 判定覆盖

设计若干个测试用例，运行被测程序，使得程序中每个判断的的取真分支和假分支至少经历一次。判定覆盖又称为分支覆盖

### 条件覆盖

设计若干个测试用例，运行被测程序，使得程序中每个判断的每个条件的可能取值至少执行一次

### 判定-条件覆盖

设计足够的测试用例，使得判断中每个条件的所有可能取值知道执行一次，同时每个判断本身的所有可能判断结果至少执行一次

### 条件组合覆盖

设计足够的测试用例，运行被测用例，使得每个判断的所有可能的条件取值组合至少执行一次。

### 路径覆盖

设计足够的测试用例，覆盖程序中所有可能路径

## 基本路径测试

基本路径测试是在程序控制流程图的基础上，通过分析控制构造的环路复杂性，导出基本可执行路径集合，从而设计测试用例的方法。

设计出的测试用例要保证测试中程序每一个可执行语句至少执行一次

## 黑盒测试的测试用例

### 等价类划分

等价类划分是一种典型的黑盒测试方法，也是一种非常使用的重要测试方法，它是用来解决如何选择适当的子集，使其尽可能多地发现错误

使用这一方法设计测试用例要经历划分等价类和选取测试用例两步

1. 划分等价类
   + 有效等价类
   + 无效等价类
   + 在设计测试用例时，要考虑有效等价类和无效等价类的设计
2. 确定测试用例
3. 用等价类划分法设计测试用例

### 边界值分析

边界值也是一种黑盒测试方法，是对等价类划分方法的补充。人们长期的测试工作经验中得知，大量的错误是发生在输入或输出范围的边界上，而不是在输入范围的内部

边界是指，相当于输入等价类和输出等价类而言，稍高于其边界值或稍低于边界值的一些特定情况。

## 软件测试的策略

通常软件测试过程按 4 个步骤进行，即单元测试、组装测试、确认测试和系统测试。

![image-20210308144134651](/soft_engineering/image-20210308144134651.png)

### 单元测试

 单元测试又称模块测试，是针对软件设计最小的单元-程序模块-进行正确性检验的测试工作。其目的在于发现各模块内部可能存在的各种差错。软件测试需要从程序的内部结构出发设计测试用例。多个模块可以平行地独立地进行单元测试。

#### 单元测试的内容

1. 模块接口测试
2. 局部数据结构测试
3. 路径测试
4. 错误处理测试
5. 边界测试

### 组装测试

也叫集成测试或联合测试。通常，在单元测试的基础上，需要将所有模块按照设计要求组装系统，把模块组装为系统的方式有两种：一次性组装测试和增值式组装方式

### 确认测试

确认测试又称有效性测试。它的任务是验证软件的有效性，即验证软件的功能和性能及其他特性是否与用户的要求一直

1. 进行有效性测试（黑盒测试）
2. 软件配置复查
3. α 测试和 β 测试
   + 在软件交付使用之后，用户将如何实际使用程序，对开发者来说是无法预测的。如果软件是为多个用户开发的产品，让每一个用户逐个执行正式的验收测试是不切实际的。很多软件产品生产者采用一种称之为 α 测试和 β 测试的测试方法，以发现可能只有最终用户才能发现的错误。
   + α 测试是有一个用户在开发环境下进行的测试，也可以是公司内部的用户在模拟实际操作环境下进行的测试。软件在一个自然设置状态下使用，开发者坐在用户旁边，随时记下错误情况和使用中的问题这是在受控的环境下进行的测试。目的是评价软件产品的功能、局域化、可使用性、可靠性、性能和支持，尤其注重产品的界面和特色。
   + β 测试是有软件的多个用户在一起或多个用户的实际使用环境下进行的测试，这些用户是与公司签订了支持产品预发行合同的外部用户，不同的是，开发者通常不在测试现场。由用户记下遇到的所有问题。开发者在综合用户的报告之后进行修改，最后将软件产品交付给全体用户使用。只有当 α测试达到一定的可靠程度时，才能开始 β测试。由于β测试的主要目标是测试可支持性，所以应尽可能由主持产品发行的人员管理。
4. 验收测试
   + 通过了系统的有效性测试及软件配置审查之后，应开始系统的验收测试、验收测试是以用户为主的测试
5. 确认测试的结果

### 系统测试

系统测试是将通过确认测试的软件，作为整个计算机系统的一个元素，与计算机硬件、外设、某些支持软件、数据、人员等其他系统元素结合在一起，在实际运行环境下，对计算机系统进行一系列的组装测试和确认测试。

系统测试的目的在于通过与系统的需求定义作比较，发现软件与系统定义不符合或与之矛盾的地方。系统测试的测试用例应根据与系统的需求分析说明书设计，并在实际使用环境中进行。

测试的类型：①功能测试②回归测试③可靠性测试④强度测试⑤性能测试⑥恢复测试⑦启动/停止测试⑧配置测试⑨安全性测试⑩可用性测试、可支持测试、安装测试、互联测试、兼容性测试、容量测试、文档测试

## 调试

调试也称为排错和纠错，它是紧跟在测试之后要做的工作，但与测试不同之处在于：测试着重于发现软件中有错，发现异常或软件运行的可以之处；而调试的任务在于为错误确切地定位，找出错误的根源，并且通过修改程序将其排除。

