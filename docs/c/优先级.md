# 优先级

| 优先级 |  运算符  |  名称（含义）  |         使用形式         | 结合方向 |    说明    |
| :----: | :------: | :------------: | :----------------------: | :------: | :--------: |
|   1    |   `[]`   |    数组下标    |    数组名[常量表达式]    |  左到右  |            |
|   1    |   `()`   |     圆括号     |  (表达式)、函数名(参数)  |  左到右  |            |
|   1    |   `.`    | 成员选择(指针) |     对象指针->成员名     |  左到右  |            |
|   1    |   `->`   | 成员选择(指针) |     对象指针->成员名     |  左到右  |            |
|   2    |   `-`    |      负号      |       负号(表达式)       |  右到左  | 单目运算符 |
|   2    | `(类型)` |  强制类型转换  |     (数据类型)表达式     |  右到左  |            |
|   2    |   `++`   |   自增运算符   |   变量名++ 或 ++变量名   |  右到左  | 单目运算符 |
|   2    |   `--`   |   自减运算符   |   变量名-- 或 --变量名   |  右到左  | 单目运算符 |
|   2    |   `*`    |   取值运算符   |        *指针变量         |  右到左  | 单目运算符 |
|   2    |   `&`    |  取地址运算符  |         &变量名          |  右到左  | 单目运算符 |
|   2    |   `!`    |  逻辑非运算符  |         !表达式          |  右到左  | 单目运算符 |
|   2    |   `~`    | 按位取反运算符 |         ~表达式          |  右到左  | 单目运算符 |
|   2    | `sizeof` |   长度运算符   |      sizeof(表达式)      |  右到左  |            |
|   3    |   `*`    |       除       |      表达式/表达式       |  左到右  | 双目运算符 |
|   3    |   `/`    |       成       |      表达式*表达式       |  左到右  | 双目运算符 |
|   3    |   `%`    |      取余      |  整型表达式%整型表达式   |  左到右  | 双目运算符 |
|   4    |   `+`    |       加       |      表达式+表达式       |  左到右  | 双目运算符 |
|   4    |   `-`    |       减       |      表达式-表达式       |  左到右  | 双目运算符 |
|   5    |   `<<`   |      左移      |      变量名<<表达式      |  左到右  | 双目运算符 |
|   5    |   `>>`   |      右移      |      变量名>>表达式      |  左到右  | 双目运算符 |
|   6    |   `>`    |      大于      |      表达式>表达式       |  左到右  | 双目运算符 |
|   6    |   `>=`   |    大于等于    |      表达式>=表达式      |  左到右  | 双目运算符 |
|   6    |   `<`    |      小于      |      表达式<表达式       |  左到右  | 双目运算符 |
|   6    |   `<=`   |    小于等于    |      表达式<=表达式      |  左到右  | 双目运算符 |
|   7    |   `==`   |      等于      |      表达式==表达式      |  左到右  | 双目运算符 |
|   7    |   `!=`   |     不等于     |      表达式!=表达式      |  左到右  | 双目运算符 |
|   8    |   `&`    |     按位与     |      表达式&表达式       |  左到右  | 双目运算符 |
|   9    |   `^`    |    按位异或    |      表达式^表达式       |  左到右  | 双目运算符 |
|   10   |   `|`    |     按位或     |      表达式\|表达式      |  左到右  | 双目运算符 |
|   11   |   `&&`   |     逻辑与     |      表达式&&表达式      |  左到右  | 双目运算符 |
|   12   |   `||`   |     逻辑或     |     表达式\|\|表达式     |  左到右  | 双目运算符 |
|   13   |  `? :`   |   条件运算符   | 表达式1?表达式2:表达式3  |  左到右  | 双目运算符 |
|   14   |   `=`    |      赋值      |       变量=表达式        |  右到左  |            |
|   14   |   `/=`   |    除后赋值    |       变量/=表达式       |  右到左  |            |
|   14   |   `*=`   |    乘后赋值    |       变量*=表达式       |  右到左  |            |
|   14   |   `%=`   |   求余后赋值   |       变量%=表达式       |  右到左  |            |
|   14   |   `+=`   |    加后赋值    |       变量+=表达式       |  右到左  |            |
|   14   |   `-=`   |    减后赋值    |       变量-=表达式       |  右到左  |            |
|   14   |  `<<=`   |   左移后赋值   |      变量<<=表达式       |  右到左  |            |
|   14   |  `>>=`   |   右移后赋值   |      变量>>=表达式       |  右到左  |            |
|   14   |   `&=`   |  按位与后赋值  |       变量&=表达式       |  右到左  |            |
|   14   |   `^=`   | 按位异或后赋值 |       变量^=表达式       |  右到左  |            |
|   14   |   `|=`   |  按位或后赋值  |      变量\|=表达式       |  右到左  |            |
|   15   |   `,`    |   逗号运算符   | 表达式,表达式，表达式... |  左到右  |            |

|                 优先级问题                 |         表达式         |                         误以为的结果                         |                           实际结果                           |
| :----------------------------------------: | :--------------------: | :----------------------------------------------------------: | :----------------------------------------------------------: |
| `.`的优先级高于`*`（`->`用于消除这个问题） |         `*p.f`         |           `p` 所指对象的字段 `f`，等价于：`(*p).f`           | 对`p`取`f`偏移，作为指针，然后进行解除引用操作，等价于：`*(p.f)` |
|            `[]`的优先级高于`*`             |      `int *ap[]`       |     `ap` 是个指向`int`数组的指针，等价于：`int (*ap)[]`      |    `ap` 是个元素为`int`指针的数组，等价于：`int *(ap [])`    |
|             函数 `()` 高于`*`              |      `int *fp()`       | `fp` 是个函数指针，所指函数返回 `int`，等价于： `int (*fp)()` |     `fp` 是个函数，返回 `int*`，等价于：`int* ( fp() )`      |
|            `==`和`!=`高于位操作            |  `(val & mask != 0)`   |                      `(val &mask) != 0`                      |                     `val & (mask != 0)`                      |
|           `==`和`!= `高于赋值符            | `c = getchar() != EOF` |                   `(c = getchar()) != EOF`                   |                   `c = (getchar() != EOF)`                   |
|         算术运算符高于位移 运算符          |    `msb << 4 + lsb`    |                      `(msb << 4) + lsb`                      |                      `msb << (4 + lsb)`                      |
|    逗号运算符在所有运 算符中优先级最低     |       `i = 1, 2`       |                         `i = (1,2)`                          |                         `(i = 1), 2`                         |


`int *p[n]`; 中，运算符`[]`优先级高，先与`p`结合成为一个数组，再由`int*`说明这是一个整型指针数组。

`int (*p)[n]`; 中`()`优先级高，首先说明`p`是一个指针，指向一个整型的一维数组。